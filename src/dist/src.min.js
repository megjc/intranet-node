function closeBtn(){function e(e,t,n,i){function o(e){var n=t.parent(),i=n[0].className;-1!=i.indexOf("modal")?n.removeClass("is-active"):n.addClass("hide")}t.bind("click",o)}var t={link:e,restrict:"A"};return t}function hdAutoComplete(e,t){function n(n,i,o,r){function s(e){n.query=e.name,n.show=!n.show,t.$broadcast("selected",n.query)}function c(){i[0].querySelector("results"),i.find("input");n.query.length>4?e.get("/api/users/search?q="+n.query).then(function(e){e.data.length>0&&(n.show=!n.show,n.results=e.data)})["catch"](function(e){console.log(e)}):(n.show=!1,n.results=[],t.$broadcast("unselected",{}))}i.bind("keyup",c);var a=i.find("input");a.on("blur",function(){console.log("exit")}),n.select=s,n.$on("submitted",function(e,t){n.query=""})}function i(){return'<div class="field autocomplete"><p class="control"><label class="label">My name is:</label><input class="input" type="text" placeholder="e.g. john brown" ng-model="query"><div class="results" ng-show="show"><p ng-repeat="result in results" ng-click="select(result)">{{result.name}}</p></div>'}var o={restrict:"E",link:n,scope:{data:"="},template:i()};return o}!function(){"use strict";function e(e,t){t.interceptors.push("interceptor"),t.interceptors.push("tokenInterceptor"),e.otherwise({redirectTo:"/users/login"})}function t(e){e.$on("$routeChangeSuccess",function(t,n,i){e.title=n.title})}function n(e,t,n){e.$on("$routeChangeStart",function(e,t,i){null!=t.access&&t.access.restricted&&n.validateToken().then(function(e){401==e.status&&n.handleUnAuthorized()})})}e.$inject=["$routeProvider","$httpProvider"],t.$inject=["$rootScope"],n.$inject=["$rootScope","$location","login"],angular.module("intranet",["ngRoute","ngMessages","apps.help","apps.cea","core.admin","core.services","core.interceptors","core.filters","core.login","core.nav","core.search","core.dashboard","apps.tod"]).config(e).run(t).run(n)}(),function(){"use strict";function e(e){e.when("/admin",{controller:"Admin",controllerAs:"vm",templateUrl:"views/core/admin/index.html",title:"Administration",access:{restricted:!0}}).when("/admin/users/ldap",{controller:"LDAPUser",controllerAs:"vm",templateUrl:"views/core/admin/ldap-users.html",title:"Administration",resolve:{ldap_users:["admin",function(e){return e.getLDAPUsers()}]},access:{restricted:!0}}).when("/admin/users",{controller:"User",controllerAs:"vm",templateUrl:"views/core/admin/users.html",title:"Administration",resolve:{users:["admin",function(e){return e.getUsers()}]},access:{restricted:!0}}).when("/admin/users/ldap/:dn",{controller:"Profile",controllerAs:"vm",templateUrl:"views/core/admin/profile.html",title:"Administration",resolve:{users:["admin",function(e){return e.getUsers()}]},access:{restricted:!0}})}function t(e,t,n){e.$on("$routeChangeStart",function(e,i,o){var r=t.path();-1!=r.indexOf("admin")&&n.isAdmin().then(function(e){401==e.status&&t.url("/dashboard/apps")})})}e.$inject=["$routeProvider"],t.$inject=["$rootScope","$location","login"],angular.module("core.admin",[]).config(e).run(t)}(),function(){"use strict";function e(e){e.when("/users/login",{templateUrl:"views/login/form.html",controller:"Login as vm",title:"Login ",access:{restricted:!1}}).otherwise({redirectTo:"/users/login"})}e.$inject=["$routeProvider"],angular.module("core.login",[]).config(e)}(),function(){"use strict";function e(e){e.when("/dashboard/apps/cea/contract-employees",{controller:"Employee as vm",title:"Contract Employee Administration",templateUrl:"views/apps/cea/employee-list.html",access:{restricted:!0},resolve:{create:["permission",function(e){return e.getByType("create")}],read:["permission",function(e){return e.getByType("read")}],update:["permission",function(e){return e.getByType("update")}],employees:["employeeSrv",function(e){return e.list()}]}}).when("/dashboard/apps/cea/new/employee",{controller:"CreateEmployee as vm",title:"New Employee",templateUrl:"views/apps/cea/create-employee.html",access:{restricted:!0}}).when("/dashboard/apps/cea/contract-employees/:id/edit",{controller:"EditEmployee as vm",title:"Edit Employee",templateUrl:"views/apps/cea/edit-employee.html",access:{restricted:!0}})}e.$inject=["$routeProvider"],angular.module("apps.cea",[]).config(e)}(),function(){"use strict";function e(e){e.when("/dashboard/apps",{controller:"Dashboard as vm",templateUrl:"views/dashboard/app-list.html",title:"Dashboard",resolve:{apps:["dashSrv",function(e){return e.getUserAppList()}]},access:{restricted:!0}})}e.$inject=["$routeProvider"],angular.module("core.dashboard",[]).config(e)}(),function(){"use strict";function e(e){e.when("/help-desk",{controller:"Help as vm",templateUrl:"templates/help-desk/form.html",title:"My Help Desk"})}e.$inject=["$routeProvider"],angular.module("apps.help",[]).config(e)}(),function(){"use strict";angular.module("core.nav",[])}(),function(){"use strict";function e(e){e.when("/dashboard/apps/search",{templateUrl:"views/search/searchResults.html",controller:"Search as vm",title:"Search ",access:{restricted:!0}})}e.$inject=["$routeProvider"],angular.module("core.search",[]).config(e)}(),function(){"use strict";function e(e){e.when("/dashboard/apps/tod/expired-docs",{templateUrl:"views/apps/tod/expires-list.html",controller:"ExpiryList as vm",title:"Expired Documents",resolve:{officers:["todSrv",function(e){return e.getExpiredDocs()}],create:["permission",function(e){return e.getByType("create")}],read:["permission",function(e){return e.getByType("read")}],update:["permission",function(e){return e.getByType("update")}]},access:{restricted:!0}}).when("/dashboard/apps/tod/notifications",{templateUrl:"views/apps/tod/notification-list.html",controller:"NotificationList as vm",title:"Notifications",resolve:{notifications:["todSrv",function(e){return e.getNotifications()}],create:["permission",function(e){return e.getByType("create")}],read:["permission",function(e){return e.getByType("read")}],update:["permission",function(e){return e.getByType("update")}]},access:{restricted:!0}}).when("/dashboard/apps/tod/officers",{templateUrl:"views/apps/tod/officer-listing.html",controller:"OfficerList as vm",title:"Officer Listing",resolve:{officers:["todSrv",function(e){return e.getOfficers()}],create:["permission",function(e){return e.getByType("create")}],read:["permission",function(e){return e.getByType("read")}],update:["permission",function(e){return e.getByType("update")}]},access:{restricted:!0}}).when("/dashboard/apps/tod/officers/new",{templateUrl:"views/apps/tod/create-officer.html",controller:"Officer as vm",title:"Add New Officer",resolve:{allowances:["todSrv",function(e){return e.getAllowances()}],classifications:["todSrv",function(e){return e.getClassifications()}],activities:["todSrv",function(e){return e.getActivities()}]},access:{restricted:!0}}).when("/dashboard/apps/tod/officers/:id/edit",{templateUrl:"views/apps/tod/edit-officer.html",controller:"EditOfficer as vm",title:"Edit Officer",access:{restricted:!0},resolve:{allowances:["todSrv",function(e){return e.getAllowances()}],classifications:["todSrv",function(e){return e.getClassifications()}],activities:["todSrv",function(e){return e.getActivities()}]}}).otherwise({redirectTo:"/login"})}e.$inject=["$routeProvider"],angular.module("apps.tod",[]).config(e)}(),function(){"use strict";function e(){function e(){console.log("Admin")}e()}angular.module("core.admin").controller("Admin",e)}(),function(){"use strict";function e(e,t){function n(){o.users=t}function i(t){e.path("/admin/users/ldap/"+t)}var o=this;o.view=i,n()}angular.module("core.admin").controller("LDAPUser",e),e.$inject=["$location","ldap_users"]}(),function(){"use strict";function e(e,t,n,i){function o(){c.access=n.appList(),c.user=n.extractNameFromDN(t.dn),c.department=n.extractDepartmentFromDN(t.dn),n.getApps(t.dn).then(function(e){c.apps=e.data})}function r(){c.show=!c.show}function s(){var e=0;if(angular.forEach(c.access,function(t,n){1==t&&(e++,c.accessList.push(n))}),e>0){var s={uname:c.user,dn:t.dn};n.addUser(s).then(function(e){for(var t=e.data.id,s={uid:t},a=0;a<c.accessList.length;a++)s.app_name=c.accessList[a],n.grantAccess(s).then(function(e){r(),c.message=e.data,i.emitEvent("notification"),o()})})}}var c=this;c.toggle=r,c.show=!1,c.save=s,c.accessList=[],c.message={},o(),i.subscribe(e,"notification",function(){c.notification={text:c.message.message,success:c.message.success,show:!0}})}angular.module("core.admin").controller("Profile",e),e.$inject=["$scope","$routeParams","admin","notify"]}(),function(){"use strict";function e(e){function t(){n.users=e}var n=this;t()}angular.module("core.admin").controller("User",e),e.$inject=["users"]}(),function(){"use strict";function e(e){function t(){return e.get("/api/users/ldap").then(function(e){return e.data})}function n(){return e.get("/api/users").then(function(e){return e.data})}function i(t){return e.get("/api/apps/"+t)}function o(e){var t=e.split(","),n=t[0],i=n.split("=");return i[1]}function r(e){var t=e.split(","),n=t[1].split("=");return n[1].toUpperCase()}function s(t){return e.post("/api/apps/grant_access",t)}function c(){return{"traveling officer database":!1}}function a(t){return e.post("/api/users",t)}var u={getLDAPUsers:t,getUsers:n,getApps:i,extractNameFromDN:o,extractDepartmentFromDN:r,grantAccess:s,appList:c,addUser:a};return u}angular.module("core.admin").service("admin",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,n,i,o,r,s){function c(){u(o),0!=r.getToken()&&r.validateToken().then(function(t){t.data?e.path("/dashboard/apps"):e.path("/users/login")})}function a(){var t="/dashboard/apps";r.authUser(l.credentials).then(function(n){l.message=n.data,s.emitEvent("notification"),r.setToken(n.data.token),n.data.success&&i(function(){void 0!==o.redirectTo&&(t=decodeURI(o.redirectTo)),e.search(""),e.path(t)},500)})["catch"](function(e,t,i,o){delete n.sessionStorage.uid})}function u(e){var t,n="",i=!1,o={session_expired:{message:"Your session has expired. Please enter your username and password.",success:!1},logout:{message:"Logout successful.",success:!0}};for(var r in o)e.hasOwnProperty(r)&&(n=o[r].message,t=o[r].success,i=!0);i&&(l.notification=s.builder(n,t,!0),s.emitEvent("notification"))}var l=this;l.credentials=r.initUser(),l.auth=a,c(),s.subscribe(t,"notification",function(){l.notification=s.builder(l.message.message,l.message.success,!0)})}angular.module("core.login").controller("Login",e),e.$inject=["$location","$scope","$window","$timeout","$routeParams","login","notify"]}(),function(){"use strict";function e(e,t,n){function i(){var e=encodeURI(t.path());sessionStorage.removeItem("uid"),t.url("/users/login?session_expired=true&redirectTo="+e)}function o(t){return e.post("/api/users/auth/ldap",t)}function r(){return{name:"",password:""}}function s(){var e=n.sessionStorage.token;return null==e||0==e.length?!1:e}function c(e){null==e&&0==e.length||(n.sessionStorage.uid=e)}function a(){var t={method:"GET",url:"/api/token/verify",headers:{Authorization:"Bearer "+n.sessionStorage.uid}};return e(t)}function u(){delete n.sessionStorage.uid}function l(){return e.get("/api/users/me")}function d(){return e.get("/api/users/admin")}var f={authUser:o,initUser:r,getToken:s,setToken:c,validateToken:a,deleteToken:u,getUname:l,isAdmin:d,handleUnAuthorized:i};return f}angular.module("core.login").service("login",e),e.$inject=["$http","$location","$window"]}(),function(){"use strict";function e(){function e(){console.log("create")}e()}angular.module("apps.cea").controller("CreateEmployee",e)}(),function(){"use strict";function e(e,t){function n(){t.getEmployeeById(e.id).then(function(e){console.log(e)})}n()}angular.module("apps.cea").controller("EditEmployee",e),e.$inject=["$routeParams","employeeSrv"]}(),function(){"use strict";function e(e,t,n,i,o,r){function s(){}var c=this;s(),c.canCreate=e,c.canRead=t,c.canUpdate=n,c.employees=i}angular.module("apps.cea").controller("Employee",e),e.$inject=["create","read","update","employees","permission","employeeSrv"]}(),function(){"use strict";function e(e){function t(){return e.get("/api/employees?type=contract").then(function(e){return e.data})}function n(t){return e.get("/api/employees/"+t).then(function(e){return e.data})}var i={list:t,getEmployeeById:n};return i}angular.module("apps.cea").service("employeeSrv",e),e.$inject=["$http"]}(),angular.module("core.directives",[]).directive("closeBtn",closeBtn),function(){"use strict";function e(){return function(e){return e.charAt(0).toUpperCase()}}function t(){return function(e,t,n){return e===t?n:e}}angular.module("core.filters",[]).filter("charAt",e).filter("replaceWith",t)}(),function(){"use strict";angular.module("core.interceptors",[])}(),function(){"use strict";function e(){function e(e){return e.status>=400?e:void 0}var t={responseError:e};return t}angular.module("core.interceptors").factory("interceptor",e)}(),function(){"use strict";function e(e,t){function n(e){var n=t.path();return-1==n.indexOf("login")&&(e.headers.Authorization="Bearer "+sessionStorage.getItem("uid")),e}function i(t){return e.reject(t)}var o={request:n,responseError:i};return o}angular.module("core.interceptors").factory("tokenInterceptor",e),e.$inject=["$q","$location"]}(),function(){"use strict";angular.module("core.services",[])}(),function(){"use strict";function e(e){function t(t,n,i){var o=e.$on(n,i);t.$on("$destroy",o)}function n(t){e.$emit(t)}function i(e,t,n){return{text:e,success:t,show:n}}var o={subscribe:t,emitEvent:n,builder:i};return o}angular.module("core.services").service("notify",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(e){function t(t){var n=sessionStorage.getItem("_ai")||0;return e.get("/api/apps/"+n+" /permissions?type="+t).then(function(e){return e.data})}var n={getByType:t};return n}angular.module("core.services").service("permission",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(){i.apps=e}function n(e){sessionStorage.setItem("_ai",e)}var i=this;i.setAppId=n,t()}angular.module("core.dashboard").controller("Dashboard",e),e.$inject=["apps"]}(),function(){"use strict";function e(e){function t(){return e.get("/api/apps").then(function(e){return e.data})}var n={getUserAppList:t};return n}angular.module("core.dashboard").service("dashSrv",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,n){function i(){c.ticket=n.initializeTicket(),c.ticket_types=n.getTicketTypes(),c.requests=n.getRequestTypes(c.ticket_types)}function o(){n.createTicket(c.ticket).then(function(e){c.message={success:e.data.success,text:e.data.text,show:!0},1==e.data.success&&(c.ticket=n.initializeTicket(),c.type="",t.ticketSubForm.$setUntouched())})["catch"](function(e){c.message=n.showError()}),e()}function r(){c.ticket=n.initializeTicket()}function s(e){c.ticket.type_id=e.id}var c=this;c.submit=o,c.cancel=r,c.select=s,i()}angular.module("apps.help").controller("Help",e),e.$inject=["$anchorScroll","$scope","helpService"]}(),angular.module("apps.help").directive("hdAutoComplete",hdAutoComplete),hdAutoComplete.$inject=["$http","$rootScope"],function(){"use strict";function e(e){function t(t){return e.post("/api/validate",{email:t})}function n(){return{description:"",type_id:"",email:""}}function i(e){}function o(){return[{id:1,title:"software issue"},{id:2,title:"general computer issue"},{id:4,title:"internet issue"},{id:5,title:"printer issue"},{id:6,title:"phone issue (CUG or desk phone)"},{id:7,title:"unknown issue"},{id:8,title:"setting up a new employee"},{id:9,title:"making a change to the Ministry's website"},{id:10,title:"setting up/configuring a closed user group cell phone"},{id:11,title:"creating a custom application for our division/branch"},{id:12,title:"setting up a projector/public announcement system"},{id:13,title:"providing support at an event/meeting"},{id:14,title:"other"}]}function r(e){return e.slice(6)}function s(e){return{success:!1,message:"Please review the form for errors"}}function c(t){return""==t.description&&(t.description="no description provided by user"),e.post("/api/tickets",t)}function a(){return{error:!0,text:"We are unable to submit your issue at this time.",show:!0}}var u={initializeTicket:n,isEmpty:i,getTicketTypes:o,getRequestTypes:r,showMessage:s,createTicket:c,showError:a,validate:t};return u}angular.module("apps.help").service("helpService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t){function n(){t.getUname().then(function(e){o.username=e.data})}function i(){t.deleteToken(),e.url("/users/login?logout=true")}var o=this;o.logout=i,n()}angular.module("core.nav").controller("Nav",e),e.$inject=["$location","login"]}(),function(){"use strict";function e(e,t){function n(){var n=t.q||"";"undefined"==typeof n&&""==n||e.get("/api/search?app=1&q="+n).then(function(e){i.results=e.data})["catch"](function(e){i.resuls=[]})}var i=this;n()}angular.module("core.search").controller("Search",e),e.$inject=["$http","$routeParams"]}(),function(){"use strict";function e(e,t,n,i,o,r){function s(){f.allowances=e,f.classifications=t,f.activities=n}function c(e){r.createOfficer(f.officer).then(function(t){f.message=t,e.$setPristine(),t.success&&(f.officer=r.initOfficerForm(),f.selectedClassification="",f.selectedAllowance="",f.selectedActivity=""),o.emitEvent("notification")})}function a(){f.officer.classification_id=f.selectedClassification}function u(){switch(f.officer.allowance_type=f.selectedAllowance,f.selectedAllowance){case 1:case 3:case 5:case 7:case 11:case 13:case 15:case 17:case 19:f.toggleBox=!f.toggleBox,f.officer.vehicle_required=!0,f.vehicle_details_required=!0;break;default:f.toggleBox=!1}}function l(){f.officer.activity_id=f.selectedActivity}function d(){f.showPermissionDate=!f.showPermissionDate,f.officer.is_owner||(f.permissionRequired=!f.permissionRequired)}var f=this;f.save=c,f.officer=r.initOfficerForm(),f.getSelected=a,f.getSelectedActivity=l,f.getSelectedAllowance=u,f.toggle=d,f.showPermissionDate=!1,f.toggleBox=!1,f.vehicle_details_required=!1,f.permissionRequired=!1,s(),o.subscribe(i,"notification",function(){f.notification=o.builder(f.message.message,f.message.success,!0)})}angular.module("apps.tod").controller("Officer",e),e.$inject=["allowances","classifications","activities","$scope","notify","todSrv"]}(),function(){"use strict";function e(e,t,n,i,o,r,s,c){function a(){o.getOfficerById(n.id).then(function(e){w.officer=e,w.classifications=s,w.allowances=r,w.activities=c,w.selectedClassification=u("id",e.classification_id,s),w.selectedAllowance=u("id",e.allowance_type,r),w.selectedActivity=u("id",e.activity_id,c),w.isOfficer="T"==e.is_traveling,w.disabled="F"==e.is_traveling,e.docs.length>0&&(w.officer.license=new Date(e.docs[0].expiry_date),w.officer.fitness=new Date(e.docs[1].expiry_date),w.officer.registration=new Date(e.docs[2].expiry_date),w.officer.insurance=new Date(e.docs[3].expiry_date))})}function u(e,t,n){for(var i=0,o=!1;i<n.length;i++)if(n[i].hasOwnProperty(e)&&(o=n[i],o[e]==t))return o}function l(e){o.update(w.officer,e,null,null).then(function(e){w.message=e,a(),i.emitEvent("notification"),y()})}function d(){o.compareString(w.confirm,w.officer.name)&&(l("remove-officer"),v())}function f(){w.officer.activity_id=w.selectedActivity.id}function p(){w.officer.allowance_type=w.selectedAllowance.id}function m(){w.officer.classification_id=w.selectedClassification.id}function g(){o.updateVehicle(w.officer).then(function(e){w.message=e,i.emitEvent("notification"),y()})}function h(e,t,n){var r={employee_id:n,expiry_date:t,id:e};o.updateDoc(r).then(function(e){w.message=e,i.emitEvent("notification"),y()})}function v(){w.active=!w.active}function y(){e.scrollTo(0,0)}var w=this;w.update=l,a(),w.updateDoc=h,w.updateVehicle=g,w.getSelectedActivity=f,w.getSelectedAllowance=p,w.getSelectedClassification=m,w.toggle=v,w.removeOfficer=d,w.confirm="",w.active=!1,w.disabled=!1,i.subscribe(t,"notification",function(){w.notification={success:w.message.success,text:w.message.text,show:!0}})}angular.module("apps.tod").controller("EditOfficer",e),e.$inject=["$window","$scope","$routeParams","notify","todSrv","allowances","classifications","activities"]}(),function(){"use strict";function e(e,t,n,i,o,r,s,c){function a(){f.canCreate=i,f.canRead=o,f.canUpdate=r,f.officers=n}function u(e){f.docs=e.docs,l()}function l(){f.active=!f.active}function d(e){l(),s.sendNotification(e).then(function(e){f.message=e,c.emitEvent("notification")})}var f=this;f.notifyOfficer=u,f.sendNotification=d,f.active=!1,f.toggle=l,a(),c.subscribe(t,"notification",function(){f.notification=c.builder(f.message.text,f.message.success,!0)})}angular.module("apps.tod").controller("ExpiryList",e),e.$inject=["$location","$scope","officers","create","read","update","todSrv","notify"]}(),function(){"use strict";function e(e,t,n,i,o,r){function s(){c.canCreate=n,c.canRead=i,c.canUpdate=o,c.notifications=t}var c=this;s()}angular.module("apps.tod").controller("NotificationList",e),e.$inject=["$location","notifications","create","read","update","todSrv"]}(),function(){"use strict";function e(e,t,n,i,o,r){function s(){d.officers=r}function c(e){i.getDocsByOfficerId(e).then(function(t){a(e),f.push(e),d.documents=t.data})}function a(e){0!=f.length?(u(),document.getElementById(e).classList.toggle("show")):document.getElementById(e).classList.toggle("show")}function u(){for(var e,t=0;t<f.length;t++)e=document.getElementById(f[t]),e.classList.contains("show")&&e.classList.remove("show")}function l(){"undefined"!=typeof d.query&&o.url("/dashboard/apps/search?q="+d.query)}var d=this;d.showDocs=c,d.showModal=!1,d.query="",d.search=l;var f=[];d.canCreate=e,d.canRead=t,d.canUpdate=n,s(),window.onclick=function(e){e.target.matches(".src")||u()}}angular.module("apps.tod").controller("OfficerList",e),e.$inject=["create","read","update","todSrv","$location","officers"]}(),function(){"use strict";function e(e){function t(){var t=sessionStorage.getItem("_ai");return e.get("/api/notifications/"+t).then(function(e){return e.data})}function n(){return e.get("/api/employees").then(function(e){return e.data})}function i(t){return e.get("/api/employees/"+t+"/documents")}function o(){return!1}function r(t){return e.post("/api/employees?traveling=true",t).then(function(e){return e.data})}function s(){return e.get("/api/allowances").then(function(e){return e.data})}function c(){return e.get("/api/classifications").then(function(e){return e.data})}function a(){return{name:"",email:"",classification:"",allowance_type:"",position:"",activity_id:"",insurance:new Date,registration:new Date,license:new Date,fitness:new Date,permission_date:new Date,is_owner:!0,comment:"",vehicle_required:!1}}function u(){return e.get("/api/activities").then(function(e){return e.data})}function l(t){return e.get("/api/employees/"+t).then(function(e){return e.data})}function d(e){return{id:e.id,name:e.name,email:e.email,position:e.position,classification_id:e.classification_id,activity_id:e.activity_id,allowance_type:e.allowance_type,is_traveling:e.is_traveling}}function f(e){return{id:e.vehicle_id,plate:e.plate,make:e.make,model:e.model,year:e.vehicle_year}}function p(t,n,i,o){var r={},s="/api/employees/"+t.id;return"employee"==n?r=d(t):"remove-officer"==n&&(t.is_traveling="F",r=d(t)),e.put(s,r).then(function(e){return e.data})}function m(t){var n=f(t);return e.put("/api/vehicles/"+t.vehicle_id,n).then(function(e){return e.data})}function g(t){return e.put("/api/documents/"+t.id,t).then(function(e){return e.data})}function h(){return e.get("/api/expired").then(function(e){return e.data})}function v(t){return e.put("/api/employees/"+t,{is_traveling:"F"}).then(function(e){return e.data})}function y(e){var t=["remove-officer"];return t.indexOf(e)>-1}function w(e,t){return e.toLowerCase()==t.toLowerCase()}function $(t){var n=sessionStorage.getItem("_ai");return e.post("/api/notify/"+n,t).then(function(e){return e.data})}var b={getOfficers:n,getDocsByOfficerId:i,initModal:o,createOfficer:r,getAllowances:s,getClassifications:c,initOfficerForm:a,getActivities:u,getOfficerById:l,update:p,updateDoc:g,getExpiredDocs:h,updateVehicle:m,removeOfficer:v,checkSection:y,compareString:w,sendNotification:$,getNotifications:t};return b}angular.module("apps.tod").service("todSrv",e),e.$inject=["$http"]}();